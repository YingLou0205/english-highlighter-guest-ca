<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>English Class Highlighter</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net"/>
  <style>
    :root { color-scheme: light; }
    body { margin:0; font:16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color:#0f172a; background:#fff; }
    .container{ max-width:960px; margin:0 auto; padding:48px 24px; }
    .card{ border:1px solid #e5e7eb; border-radius:16px; padding:24px; box-shadow:0 1px 2px rgba(0,0,0,.04); background:#fff; }
    .title{ font-size:28px; font-weight:700; margin:0 0 24px; }
    .label{ font-size:14px; font-weight:600; margin-bottom:8px; display:block; }
    .input{ width:100%; padding:12px 14px; border:1px solid #e5e7eb; border-radius:12px; font-size:16px; outline:none; }
    .row{ display:flex; gap:12px; flex-wrap:wrap; }
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 14px; border-radius:12px; text-decoration:none; cursor:pointer; background:#000; color:#fff; border:1px solid #000; }
    .btn:disabled{ opacity:.5; cursor:not-allowed; }
    .hint{ color:#64748b; font-size:13px; }
  </style>
</head>
<body>
  <main class="container">
    <h1 class="title">English Class Highlighter</h1>

    <section class="card" style="max-width:640px; margin-bottom:18px;">
      <div class="label">Open with Short Code</div>
      <input id="code" class="input" placeholder="e.g., 90b7812b"/>
      <div class="row" style="margin-top:12px">
        <a id="openStudent" class="btn" href="#">Student View</a>
        <a id="openTeacher" class="btn" href="#">Teacher View</a>
      </div>
    </section>

    <section class="card" style="max-width:640px">
      <div class="label">Create a New Document</div>
      <a id="openCreate" class="btn" href="#">Open Create Page</a>
      <div class="hint" style="margin-top:8px">Paste your reading and get a short code for students.</div>
    </section>
  </main>

  <script>
    // Works both on GitHub Pages (/english-highlighter-guest-ca) and locally.
    const BASE = location.pathname.includes('/english-highlighter-guest-ca')
      ? '/english-highlighter-guest-ca' : '';

    const codeInput = document.getElementById('code');
    const aS = document.getElementById('openStudent');
    const aT = document.getElementById('openTeacher');
    const aC = document.getElementById('openCreate');

    function updateLinks() {
      const code = (codeInput.value || '').trim();
      aS.href = code ? `${BASE}/s.html?code=${encodeURIComponent(code)}` : '#';
      aT.href = code ? `${BASE}/t.html?code=${encodeURIComponent(code)}` : '#';
    }
    codeInput.addEventListener('input', updateLinks);
    updateLinks();

    aC.href = `${BASE}/teacher/create.html`;
  </script>
</body>
</html>
